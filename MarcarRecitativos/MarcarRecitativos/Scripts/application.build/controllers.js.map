{"version":3,"sources":["Contagem.js","Default.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["(function () {\r\n  angular.module('ccbApp.controllers')\r\n\r\n    .controller('ContagemCtrl', [\r\n      'ContagemRecitativos', '$routeParams',\r\n      function (ContagemRecitativos, $routeParams) {\r\n        var vm = this;\r\n\r\n        vm.today = new Date();\r\n\r\n        console.log('hebera');\r\n\r\n        if ($routeParams.day && $routeParams.month && $routeParams.year) {\r\n          vm.today = new Date(\r\n            parseInt($routeParams.year),\r\n            parseInt($routeParams.month) - 1,\r\n            parseInt($routeParams.day)\r\n          );\r\n        }\r\n\r\n        vm.editing = false;\r\n\r\n        vm.itemsToRemove = [];\r\n\r\n        vm.mocidade = [];\r\n        getMocidade();\r\n\r\n        vm.addFemaleContinuation = function () {\r\n          vm.mocidade.push({ gender: 'menina', total: 0 });\r\n        };\r\n\r\n        vm.addMaleContinuation = function () {\r\n          vm.mocidade.push({ gender: 'menino', total: 0 });\r\n        };\r\n\r\n        vm.removeContinuation = function (item) {\r\n          var index = vm.mocidade.FindIndex(item, '$$hashKey');\r\n\r\n          vm.itemsToRemove.push(angular.copy(vm.mocidade[index]));\r\n\r\n          vm.mocidade.splice(index, 1);\r\n        };\r\n\r\n        vm.girlAndYoungWomanFilter = function (item) {\r\n          return item.gender === 'menina' || item.gender === 'moca';\r\n        };\r\n\r\n        vm.boyAndYoungManFilter = function (item) {\r\n          return item.gender === 'menino' || item.gender === 'moco';\r\n        };\r\n\r\n        vm.saveScore = function () {\r\n          for (var i = 0; i < vm.mocidade.length; i++) {\r\n            var continuacao = vm.mocidade[i];\r\n            continuacao.gender = encodeGender(continuacao.gender)\r\n\r\n            delete continuacao.$$hashKey;\r\n            delete continuacao.date;\r\n            delete continuacao.recitativoGuid;\r\n\r\n            ContagemRecitativos.add(continuacao).then(function (response) {\r\n              response.data.gender = decodeGender(response.data.gender);\r\n\r\n              vm.mocidade.push(response.data);\r\n\r\n              console.log(response);\r\n            }, function (response) {\r\n              console.warn(response);\r\n            });\r\n          }\r\n\r\n          vm.mocidade = [];\r\n        };\r\n\r\n        vm.editScore = function () {\r\n          for (var i = 0; i < vm.mocidade.length; i++) {\r\n            var continuacao = vm.mocidade[i];\r\n            continuacao.gender = encodeGender(continuacao.gender)\r\n\r\n            delete continuacao.$$hashKey;\r\n            delete continuacao.date;\r\n\r\n            if (continuacao.recitativoGuid) {\r\n              ContagemRecitativos.update(continuacao.recitativoGuid, continuacao).then(function (response) {\r\n                response.data.gender = decodeGender(response.data.gender);\r\n\r\n                vm.mocidade.push(response.data);\r\n\r\n                console.log(response);\r\n              }, function (response) {\r\n                console.warn(response);\r\n              });\r\n            }\r\n            else {\r\n              ContagemRecitativos.add(continuacao).then(function (response) {\r\n                response.data.gender = decodeGender(response.data.gender);\r\n\r\n                vm.mocidade.push(response.data);\r\n\r\n                console.log(response);\r\n              }, function (response) {\r\n                console.warn(response);\r\n              });\r\n            }\r\n          }\r\n\r\n          vm.mocidade = [];\r\n\r\n          for (var i = 0; i < vm.itemsToRemove.length; i++) {\r\n            var itemToRemove = vm.itemsToRemove[i];\r\n\r\n            ContagemRecitativos.delete(itemToRemove.recitativoGuid).then(function (response) { }, function (error) {\r\n              console.warn(error);\r\n            });\r\n          }\r\n\r\n          vm.itemsToRemove = [];\r\n        }\r\n\r\n        function getMocidade() {\r\n          ContagemRecitativos.get.ByDate({\r\n            day: vm.today.getDate(), month: vm.today.getMonth() + 1, year: vm.today.getFullYear()\r\n          })\r\n            .then(function (response) {\r\n\r\n              if (response.data.length) {\r\n                vm.mocidade = encodeContagem(response.data);\r\n                vm.editing = true;\r\n              }\r\n              else {\r\n                vm.mocidade = [\r\n                  { gender: 'menina', total: 0 },\r\n                  { gender: 'moca', total: 0 },\r\n                  { gender: 'menino', total: 0 },\r\n                  { gender: 'moco', total: 0 },\r\n                ];\r\n              }\r\n\r\n              console.log(response);\r\n            }, function (error) {\r\n              console.log(error);\r\n            })\r\n        }\r\n      }\r\n    ])\r\n})();\r\n\r\n//# sourceMappingURL=Contagem.js.map\r\n","(function () {\r\n  angular.module('ccbApp.controllers')\r\n\r\n    .controller('DefaultCtrl', [\r\n      function () {\r\n\r\n      }\r\n    ])\r\n})();\r\n\r\n//# sourceMappingURL=Default.js.map\r\n"]}